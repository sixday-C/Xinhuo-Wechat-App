{"bsonType":"object","required":["description"],"permission":{"read":true,"create":true,"update":true,"delete":false},"properties":{"_id":{"description":"ID，系统自动生成"},"userid":{"title":"用户ID","description":"上报用户的唯一标识","bsonType":"string","maxLength":100},"description":{"title":"问题描述","label":"问题描述","description":"详细的问题描述内容","bsonType":"string","minLength":5,"maxLength":500,"errorMessage":{"required":"{label}必填","minLength":"{title}不能少于{minLength}个字符","maxLength":"{label}不能超过{maxLength}个字符"}},"isAnonymous":{"title":"是否匿名","description":"是否匿名上报","bsonType":"bool","defaultValue":false},"imageUrls":{"title":"问题图片","description":"上传的问题图片链接数组","bsonType":"array","items":{"bsonType":"string"},"maxItems":3},"userPhone":{"title":"用户手机号","description":"上报用户的手机号码","bsonType":"string","pattern":"^1[3-9]\\d{9}$","errorMessage":{"pattern":"手机号码格式不正确"}},"userName":{"title":"用户姓名","description":"上报用户的姓名","bsonType":"string","maxLength":20},"userAddress":{"title":"用户地址","description":"用户的楼宇门牌地址","bsonType":"string","maxLength":100},"locationInfo":{"title":"位置信息","description":"问题发生的位置信息","bsonType":"object","properties":{"latitude":{"title":"纬度","bsonType":"string"},"longitude":{"title":"经度","bsonType":"string"},"address":{"title":"详细地址","bsonType":"string"},"accuracy":{"title":"定位精度","bsonType":"int"}}},"status":{"title":"处理状态","description":"问题处理状态","bsonType":"string","enum":[{"text":"待处理","value":"待处理"},{"text":"处理中","value":"处理中"},{"text":"已处理","value":"已处理"}],"defaultValue":"待处理","errorMessage":{"required":"处理状态必填"}},"priority":{"title":"优先级","description":"问题处理优先级","bsonType":"int","enum":[{"text":"低","value":1},{"text":"中","value":2},{"text":"高","value":3},{"text":"紧急","value":4}],"defaultValue":2},"category":{"title":"问题分类","description":"问题的分类类型","bsonType":"string","enum":[{"text":"设施维修","value":"设施维修"},{"text":"环境卫生","value":"环境卫生"},{"text":"安全问题","value":"安全问题"},{"text":"噪音投诉","value":"噪音投诉"},{"text":"服务建议","value":"服务建议"},{"text":"其他问题","value":"其他问题"}],"defaultValue":"其他问题"},"processingNotes":{"title":"处理备注","description":"管理员处理时的备注信息","bsonType":"string","maxLength":500},"processedBy":{"title":"处理人","description":"处理问题的管理员ID","bsonType":"string"},"processedTime":{"title":"处理时间","description":"问题处理完成的时间","bsonType":"timestamp"},"reportTime":{"title":"上报时间","description":"问题上报的时间","bsonType":"timestamp"},"createTime":{"title":"创建时间","description":"记录创建时间","bsonType":"timestamp","forceDefaultValue":{"$env":"now"}},"updateTime":{"title":"更新时间","description":"记录最后更新时间","bsonType":"timestamp","forceDefaultValue":{"$env":"now"}},"clientIP":{"title":"客户端IP","description":"提交时的客户端IP地址","bsonType":"string","forceDefaultValue":{"$env":"clientIP"}}}}